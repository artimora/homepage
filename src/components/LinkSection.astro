---
type Props = {
  links: (
    | {
        href: string;
        label: string;
        target?: "_self" | "_blank" | "_parent" | "_top";
        description?: string;
      }
    | {
        label: string;
        description?: string;
        links: {
          href: string;
          label: string;
          target?: "_self" | "_blank" | "_parent" | "_top";
        }[];
      }
  )[];
};

const { links } = Astro.props;
---

<ul>
  {
    links.map((l) => {
      if ("href" in l) {
        return (
          <li>
            <a href={l.href} target={l.target ?? "_blank"}>
              {l.label}
            </a>
            {l.description && ` - ${l.description}`}
          </li>
        );
      }

      return (
        <li>
          <span>{l.label}</span>
          {l.description && <span>{` - ${l.description}`}</span>}

          <ul>
            {l.links.map((sub) => (
              <li>
                <a href={sub.href} target={sub.target ?? "_blank"}>
                  {sub.label}
                </a>
              </li>
            ))}
          </ul>
        </li>
      );
    })
  }
</ul>
